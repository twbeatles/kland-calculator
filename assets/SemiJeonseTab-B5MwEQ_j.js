import{r as a,a as p,p as l,s as y,j as e,h as w,i as j,c as v}from"./index-B6u5FO8e.js";import{N as u}from"./Inputs-Blh7JT5J.js";const T=()=>{const[o,N]=a.useState(""),[r,h]=a.useState(""),[c,b]=a.useState(""),[d,g]=a.useState((p+3.5).toFixed(1)),s=a.useMemo(()=>{const t=l(o),i=l(r),x=l(c),f=parseFloat(d)||0;if(!t)return null;if(i>0&&i<t){const n=t-i,m=Math.floor(n*(f/100)/12);return{mode:"toMonthly",deposit:i,monthly:m,diff:n}}if(x>0){const n=Math.floor(x*12/(f/100)),m=t-n;return{mode:"toDeposit",deposit:Math.max(m,0),monthly:x,diff:n}}return null},[o,r,c,d]);return a.useEffect(()=>{if(s){const t=setTimeout(()=>{y("반전세계산",{timestamp:Date.now()})},3e3);return()=>clearTimeout(t)}},[s]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(w,{className:"w-5 h-5 mr-3 text-violet-600"})," 반전세 계산기"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(u,{label:"현재 전세 보증금",value:o,onChange:N,color:"violet"}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"전환 옵션 (하나만 입력)"}),e.jsx(u,{label:"희망 보증금 (감액)",value:r,onChange:t=>{h(t),b("")},color:"violet"}),l(r)>0&&l(o)>0&&l(r)>=l(o)&&e.jsx("p",{className:"text-xs text-red-500 bg-red-50 px-3 py-2 rounded-lg",children:"⚠️ 희망 보증금은 전세금보다 작아야 합니다"}),e.jsx("div",{className:"text-center text-xs text-slate-400 font-bold",children:"또는"}),e.jsx(u,{label:"희망 월세",value:c,onChange:t=>{b(t),h("")},color:"violet"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"전환율 (%)"}),e.jsx("input",{type:"number",value:d,onChange:t=>g(t.target.value),className:"w-full px-4 py-3 text-right bg-slate-50 rounded-2xl font-bold text-slate-700 outline-none focus:ring-2 focus:ring-violet-500"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1 ml-1",children:["* 법정 상한: 기준금리(",p,"%) + 3.5% = ",(p+3.5).toFixed(1),"%"]})]})]})]}),s?e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 p-6 rounded-[2.5rem] border border-violet-100 shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm font-bold text-violet-400 uppercase tracking-widest mb-2",children:"반전세 조건"}),e.jsxs("p",{className:"text-3xl font-black text-violet-900",children:["보증금 ",j(s.deposit)," + 월세 ",v(s.monthly),"원"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"전환 보증금"}),e.jsx("span",{className:"font-bold",children:j(s.diff)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"연간 월세 합계"}),e.jsxs("span",{className:"font-bold",children:[v(s.monthly*12),"원"]})]})]})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"전세 보증금과 희망 조건을 입력해주세요"})]})};export{T as SemiJeonseTab,T as default};
