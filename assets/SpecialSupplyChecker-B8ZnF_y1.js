import{r as l,p as n,s as P,j as e,y,F as v,A as T,C as Y,X as z}from"./index-B6u5FO8e.js";import{T as u,N as b}from"./Inputs-Blh7JT5J.js";const x=["예","아니오"],_=()=>{const[d,S]=l.useState("예"),[h,k]=l.useState("예"),[F,R]=l.useState("4"),[i,w]=l.useState(""),[g,I]=l.useState(""),[p,A]=l.useState("예"),[j,O]=l.useState(""),[c,E]=l.useState("아니오"),[r,H]=l.useState(""),t=l.useMemo(()=>{const a=n(i)||0,o=n(g)||0,N=n(r)||0,C=n(j)||0,m=85e5,s={신혼부부:{eligible:!1,reasons:[]},생애최초:{eligible:!1,reasons:[]},다자녀:{eligible:!1,reasons:[]}};p==="예"&&C<=7&&C>0?a<=m*1.6&&o<=361e6?s.신혼부부.eligible=!0:(a>m*1.6&&s.신혼부부.reasons.push("소득 초과"),o>361e6&&s.신혼부부.reasons.push("자산 초과")):s.신혼부부.reasons.push("혼인 7년 이하 아님"),c==="아니오"&&a<=m*1.3?s.생애최초.eligible=!0:(c==="예"&&s.생애최초.reasons.push("주택소유 이력"),a>m*1.3&&s.생애최초.reasons.push("소득 초과")),N>=2&&o<=361e6?s.다자녀.eligible=!0:N<2&&s.다자녀.reasons.push("자녀 2명 미만");const M=Object.entries(s).filter(([,f])=>f.eligible).map(([f])=>f);return{checks:s,eligibleTypes:M,commonPass:d==="예"&&h==="예"}},[i,g,p,j,c,r,d,h]);return l.useEffect(()=>{if(t.eligibleTypes.length>0||t.commonPass){const a=setTimeout(()=>{P("특별공급자격",{eligibleTypes:t.eligibleTypes,monthlyIncome:n(i),childCount:n(r)})},3e3);return()=>clearTimeout(a)}},[t,i,r]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-3 text-violet-500"}),"특별공급 자격 체커"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"무주택자"}),e.jsx(u,{options:x,value:d,onChange:S,color:"blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"청약통장 보유"}),e.jsx(u,{options:x,value:h,onChange:k,color:"blue"})]}),e.jsx(b,{label:"월 소득",value:i,onChange:w,color:"blue"}),e.jsx(b,{label:"총 자산",value:g,onChange:I,color:"blue"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"기혼 여부"}),e.jsx(u,{options:x,value:p,onChange:A,color:"pink"})]}),e.jsx(b,{label:"혼인기간",value:j,onChange:O,unit:"년",enableUnitToggle:!1,color:"pink"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"주택 소유 이력"}),e.jsx(u,{options:x,value:c,onChange:E,color:"green"})]}),e.jsx(b,{label:"미성년 자녀",value:r,onChange:H,unit:"명",enableUnitToggle:!1,color:"orange"})]})]}),!t.commonPass&&e.jsx(v,{status:"danger",title:"기본 자격 미충족",value:"무주택/청약통장 필요",icon:T}),t.eligibleTypes.length>0?e.jsx(v,{status:"success",title:"자격 있는 특별공급",value:t.eligibleTypes.join(", "),icon:y}):t.commonPass&&e.jsx(v,{status:"warning",title:"특별공급 자격",value:"해당 없음",icon:T}),e.jsx("div",{className:"space-y-3",children:Object.entries(t.checks).map(([a,o])=>e.jsxs("div",{className:`p-4 rounded-2xl border ${o.eligible?"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-slate-700",children:a}),o.eligible?e.jsx(Y,{className:"w-5 h-5 text-green-500"}):e.jsx(z,{className:"w-5 h-5 text-slate-300"})]}),o.reasons.length>0&&e.jsx("div",{className:"mt-2 text-xs text-red-500",children:o.reasons.join(", ")})]},a))})]})};export{_ as SpecialSupplyChecker,_ as default};
