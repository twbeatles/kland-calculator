import{r as o,p as y,s as v,j as e,q as M,c as b,i as w}from"./index-B6u5FO8e.js";import{N as C}from"./Inputs-Blh7JT5J.js";const k=()=>{const[d,j]=o.useState(""),[h,N]=o.useState("4.5"),[m,g]=o.useState("360"),[c,f]=o.useState("equal"),p=o.useMemo(()=>{const t=y(d),l=parseFloat(h)/100/12,a=parseInt(m);if(!t||!a||l<=0)return null;const u=[];let n=t;if(c==="equal"){const r=t*l*Math.pow(1+l,a)/(Math.pow(1+l,a)-1);for(let s=1;s<=Math.min(a,12);s++){const i=n*l,x=r-i;n-=x,u.push({month:s,payment:Math.floor(r),principal:Math.floor(x),interest:Math.floor(i),remaining:Math.floor(Math.max(n,0))})}}else{const r=t/a;for(let s=1;s<=Math.min(a,12);s++){const i=n*l,x=r+i;n-=r,u.push({month:s,payment:Math.floor(x),principal:Math.floor(r),interest:Math.floor(i),remaining:Math.floor(Math.max(n,0))})}}return u},[d,h,m,c]);return o.useEffect(()=>{if(result){const t=setTimeout(()=>{v("상환스케줄",{timestamp:Date.now()})},3e3);return()=>clearTimeout(t)}},[result]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(M,{className:"w-5 h-5 mr-3 text-purple-600"})," 상환 스케줄표"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(C,{label:"대출금액",value:d,onChange:j,color:"violet"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2 ml-1",children:"금리 (%)"}),e.jsx("input",{type:"number",value:h,onChange:t=>N(t.target.value),className:"w-full px-4 py-3 text-right bg-slate-50 rounded-2xl font-bold outline-none"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2 ml-1",children:"기간"}),e.jsxs("select",{value:m,onChange:t=>g(t.target.value),className:"w-full px-4 py-3 bg-slate-50 rounded-2xl font-bold outline-none",children:[e.jsx("option",{value:"120",children:"10년"}),e.jsx("option",{value:"240",children:"20년"}),e.jsx("option",{value:"360",children:"30년"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f("equal"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${c==="equal"?"bg-purple-500 text-white":"bg-slate-100 text-slate-500"}`,children:"원리금균등"}),e.jsx("button",{onClick:()=>f("principal"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${c==="principal"?"bg-purple-500 text-white":"bg-slate-100 text-slate-500"}`,children:"원금균등"})]})]})]}),p&&p.length>0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-2 text-left font-bold text-slate-500",children:"회차"}),e.jsx("th",{className:"py-3 px-2 text-right font-bold text-slate-500",children:"상환액"}),e.jsx("th",{className:"py-3 px-2 text-right font-bold text-slate-500",children:"원금"}),e.jsx("th",{className:"py-3 px-2 text-right font-bold text-slate-500",children:"이자"}),e.jsx("th",{className:"py-3 px-2 text-right font-bold text-slate-500",children:"잔액"})]})}),e.jsx("tbody",{children:p.map(t=>e.jsxs("tr",{className:"border-t border-slate-100",children:[e.jsxs("td",{className:"py-2.5 px-2 font-medium",children:[t.month,"회"]}),e.jsx("td",{className:"py-2.5 px-2 text-right font-bold",children:b(t.payment)}),e.jsx("td",{className:"py-2.5 px-2 text-right text-blue-600",children:b(t.principal)}),e.jsx("td",{className:"py-2.5 px-2 text-right text-red-500",children:b(t.interest)}),e.jsx("td",{className:"py-2.5 px-2 text-right text-slate-400",children:w(t.remaining)})]},t.month))})]})}),e.jsx("p",{className:"text-xs text-center text-slate-400 py-3",children:"* 첫 12개월 스케줄 표시"})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"대출금액을 입력해주세요"})]})};export{k as AmortizationScheduleTab,k as default};
