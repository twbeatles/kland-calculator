import{r as n,p as t,s as z,j as e,z as R,E as k,F as i,G as H,J,f as F,T as L,k as Q}from"./index-B6u5FO8e.js";import{N as d,T as Y}from"./Inputs-Blh7JT5J.js";const _=[{months:6,score:1},{months:12,score:2},{months:24,score:3},{months:36,score:4},{months:48,score:5},{months:60,score:6},{months:72,score:7},{months:84,score:8},{months:96,score:9},{months:108,score:10},{months:120,score:11},{months:132,score:12},{months:144,score:13},{months:156,score:14},{months:180,score:15}],B=[{count:6,score:2},{count:12,score:3},{count:24,score:4},{count:36,score:5},{count:48,score:6},{count:60,score:7},{count:72,score:8},{count:84,score:9},{count:96,score:10},{count:108,score:11},{count:120,score:12},{count:132,score:13},{count:144,score:14},{count:156,score:15},{count:168,score:16},{count:180,score:17}],V=["매월","분기","반기"],ee=()=>{const[x,I]=n.useState(""),[m,U]=n.useState("100000"),[b,$]=n.useState(""),[j,q]=n.useState(""),[a,A]=n.useState(""),[u,G]=n.useState("매월"),s=n.useMemo(()=>{const h=t(x)||0,v=t(m)||1e5,S=t(b)||0,y=t(j)||0,p=t(a)||0,w=_.reduce((r,c)=>S>=c.months?c.score:r,0),P=B.reduce((r,c)=>y>=c.count?c.score:r,0),C=w+P,T=u==="매월"?1:u==="분기"?3:6;let D=S,E=y,M=h,o=0;if(p>C)for(;o<360;){D++,o++,o%T===0&&(E++,M+=v);const r=_.reduce((f,l)=>D>=l.months?l.score:f,0),c=B.reduce((f,l)=>E>=l.count?l.score:f,0);if(r+c>=p)break}const O=Math.ceil(o/T),K=h+O*v,g=15,N=17;return{currentScore:C,periodScore:w,paymentScore:P,monthsNeeded:o,yearsNeeded:Math.floor(o/12),remainingMonths:o%12,additionalPayments:O,totalDeposit:K,expectedBalance:M,maxPeriodScore:g,maxPaymentScore:N,maxScore:g+N,targetAchievable:p<=g+N,reachDate:new Date(Date.now()+o*30*24*60*60*1e3)}},[x,m,b,j,a,u]);return n.useEffect(()=>{if(s&&t(a)>0){const h=setTimeout(()=>{z("청약납입시뮬",{currentScore:s.currentScore,targetScore:t(a),monthsNeeded:s.monthsNeeded,additionalPayments:s.additionalPayments})},3e3);return()=>clearTimeout(h)}},[s,a]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(R,{className:"w-5 h-5 mr-3 text-blue-600"}),"청약통장 납입 시뮬레이터"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(d,{label:"현재 납입금액",value:x,onChange:I,placeholder:"현재 통장 잔액",color:"blue"}),e.jsx(d,{label:"월 납입금액",value:m,onChange:U,placeholder:"매월 납입할 금액",color:"blue"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"가입 개월 수",value:b,onChange:$,unit:"개월",enableUnitToggle:!1,color:"violet"}),e.jsx(d,{label:"납입 횟수",value:j,onChange:q,unit:"회",enableUnitToggle:!1,color:"violet"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"납입 주기"}),e.jsx(Y,{options:V,value:u,onChange:G,color:"blue"})]}),e.jsx(d,{label:"목표 점수",value:a,onChange:A,unit:"점",enableUnitToggle:!1,placeholder:"달성하고 싶은 점수",color:"green"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 rounded-3xl shadow-lg text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-bold text-white/90",children:"현재 청약 점수"}),e.jsx(k,{className:"w-6 h-6 text-white/70"})]}),e.jsxs("div",{className:"text-4xl font-black mb-2",children:[s.currentScore,"점"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white/20 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-white/70 mb-1",children:"가입기간 점수"}),e.jsxs("div",{className:"text-lg font-bold",children:[s.periodScore," / ",s.maxPeriodScore,"점"]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs text-white/70 mb-1",children:"납입횟수 점수"}),e.jsxs("div",{className:"text-lg font-bold",children:[s.paymentScore," / ",s.maxPaymentScore,"점"]})]})]})]}),t(a)>0&&e.jsx("div",{className:"space-y-4",children:s.targetAchievable?e.jsxs(e.Fragment,{children:[e.jsx(i,{status:s.monthsNeeded>0?"info":"success",title:"목표 달성까지",value:s.monthsNeeded>0?`${s.yearsNeeded}년 ${s.remainingMonths}개월`:"이미 달성!",icon:H}),s.monthsNeeded>0&&e.jsxs(e.Fragment,{children:[e.jsx(i,{status:"default",title:"예상 달성일",value:s.reachDate.toLocaleDateString("ko-KR",{year:"numeric",month:"long"}),icon:J}),e.jsx(i,{status:"default",title:"추가 납입 횟수",value:`${s.additionalPayments}회`,subtitle:`추가 납입금액: ${F(s.additionalPayments*t(m))}`,icon:R}),e.jsx(i,{status:"success",title:"예상 총 잔액",value:F(s.expectedBalance),icon:L})]})]}):e.jsx(i,{status:"danger",title:"목표 점수 초과",value:"달성 불가",subtitle:`최대 가능 점수: ${s.maxScore}점`,icon:k})}),e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h4",{className:"font-bold text-slate-700 mb-4 flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-2 text-slate-500"}),"청약 가점 점수표"]}),e.jsxs("div",{className:"text-xs text-slate-500 space-y-2",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"font-medium",children:"가입기간"}),e.jsx("span",{children:"6개월 1점 ~ 15년 이상 15점"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"font-medium",children:"납입횟수"}),e.jsx("span",{children:"6회 2점 ~ 180회 이상 17점"})]}),e.jsxs("div",{className:"flex justify-between py-2 text-blue-600 font-bold",children:[e.jsx("span",{children:"최대 점수"}),e.jsx("span",{children:"32점"})]})]})]})]})};export{ee as SubscriptionDepositSimulator,ee as default};
