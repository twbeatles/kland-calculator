import{r as i,p as d,s as O,j as e,T as Y,c as x}from"./index-B6u5FO8e.js";import{N as w}from"./Inputs-Blh7JT5J.js";const X=()=>{const[m,D]=i.useState(""),[u,y]=i.useState(""),[h,M]=i.useState(""),[p,S]=i.useState("3"),[j,R]=i.useState("2"),[c,C]=i.useState(!1),[b,H]=i.useState(!1),s=i.useMemo(()=>{const t=d(m),g=d(u),I=d(h),r=parseInt(p)||0,E=parseInt(j)||0;if(!t||!g)return null;const o=g-t-I;if(o<=0)return{gain:0,tax:0,localTax:0,total:0,deduction:0,taxableGain:0,rate:0,isExempt:!1,holdingDeduction:0,residenceDeduction:0};if(c&&r>=2&&g<=12e8)return{gain:o,tax:0,localTax:0,total:0,deduction:o,taxableGain:0,rate:0,isExempt:!0,holdingDeduction:0,residenceDeduction:0};let f=0,N=0,v=0;c&&r>=3?(N=Math.min((r-2)*.04,.4),v=E>=2?Math.min((E-1)*.04,.4):0,f=N+v):r>=3&&(f=Math.min(.06+(r-3)*.02,.3));const k=Math.floor(o*f),a=Math.max(o-k-25e5,0);let l=0,n=0;a<=14e6?(l=a*.06,n=6):a<=5e7?(l=84e4+(a-14e6)*.15,n=15):a<=88e6?(l=624e4+(a-5e7)*.24,n=24):a<=15e7?(l=1536e4+(a-88e6)*.35,n=35):a<=3e8?(l=3706e4+(a-15e7)*.38,n=38):a<=5e8?(l=9406e4+(a-3e8)*.4,n=40):a<=1e9?(l=17406e4+(a-5e8)*.42,n=42):(l=38406e4+(a-1e9)*.45,n=45),b&&r<1?(l=a*.7,n=70):b&&r<2&&(l=a*.6,n=60),l=Math.floor(l);const T=Math.floor(l*.1),P=l+T;return{gain:o,deduction:k,taxableGain:a,tax:l,localTax:T,total:P,rate:n,isExempt:!1,holdingDeduction:N,residenceDeduction:v,deductionRate:f}},[m,u,h,p,j,c,b]);return i.useEffect(()=>{if(s&&s.gain>0){const t=setTimeout(()=>{O("ì–‘ë„ì†Œë“ì„¸",{acquisitionPrice:d(m),salePrice:d(u),expenses:d(h),holdingYears:parseInt(p),isOneHouse:c,total:s.total,isExempt:s.isExempt})},3e3);return()=>clearTimeout(t)}},[s,m,u,h,p,c]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-3 text-rose-600"})," ì–‘ë„ì†Œë“ì„¸ ê³„ì‚°ê¸°"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(w,{label:"ì·¨ë“ê°€ì•¡ (ë§¤ì…ê°€)",value:m,onChange:D,color:"blue"}),e.jsx(w,{label:"ì–‘ë„ê°€ì•¡ (ë§¤ë„ê°€)",value:u,onChange:y,color:"blue"}),e.jsx(w,{label:"í•„ìš”ê²½ë¹„ (ì·¨ë“ì„¸, ì¤‘ê°œë³´ìˆ˜ ë“±)",value:h,onChange:M,color:"blue"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"ë³´ìœ  ê¸°ê°„ (ë…„)"}),e.jsx("div",{className:"flex gap-2",children:["1","2","3","5","10"].map(t=>e.jsxs("button",{onClick:()=>S(t),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${p===t?"bg-rose-500 text-white":"bg-slate-100 text-slate-500"}`,children:[t,"ë…„"]},t))})]}),c&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"ê±°ì£¼ ê¸°ê°„ (ë…„)"}),e.jsx("div",{className:"flex gap-2",children:["1","2","3","5","10"].map(t=>e.jsxs("button",{onClick:()=>R(t),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${j===t?"bg-emerald-500 text-white":"bg-slate-100 text-slate-500"}`,children:[t,"ë…„"]},t))}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 ml-1",children:"* ê±°ì£¼ê¸°ê°„ ê³µì œëŠ” 2ë…„ ì´ìƒë¶€í„° ì ìš©ë©ë‹ˆë‹¤"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:t=>C(t.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"1ì„¸ëŒ€ 1ì£¼íƒ"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:t=>H(t.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"ì¡°ì •ëŒ€ìƒì§€ì—­"})]})]})]})]}),s?e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 p-6 rounded-[2.5rem] border border-rose-100 shadow-lg relative",children:[s.isExempt&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-1.5 rounded-full text-xs font-bold shadow-lg",children:"ğŸ‰ ë¹„ê³¼ì„¸ ì ìš©"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm font-bold text-rose-400 uppercase tracking-widest mb-2",children:"ì˜ˆìƒ ë‚©ë¶€ ì„¸ì•¡"}),e.jsxs("p",{className:`text-4xl font-black ${s.isExempt?"text-green-600":"text-rose-900"}`,children:[x(s.total),"ì›"]}),s.isExempt?e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"1ì„¸ëŒ€1ì£¼íƒ ë¹„ê³¼ì„¸ ìš”ê±´ ì¶©ì¡± (12ì–µ ì´í•˜ + 2ë…„ ë³´ìœ )"}):s.total>0&&e.jsxs("p",{className:"text-xs text-rose-500 mt-1",children:["ì ìš©ì„¸ìœ¨ ",s.rate,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 space-y-3 shadow-sm ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ì–‘ë„ì°¨ìµ"}),e.jsxs("span",{children:[x(s.gain),"ì›"]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsxs("span",{children:["ì¥ê¸°ë³´ìœ íŠ¹ë³„ê³µì œ ",s.deductionRate?`(${(s.deductionRate*100).toFixed(0)}%)`:""]}),e.jsxs("span",{className:"text-green-600",children:["-",x(s.deduction),"ì›"]})]}),s.holdingDeduction>0&&s.residenceDeduction>0&&e.jsxs("div",{className:"text-xs text-slate-400 ml-2 -mt-1",children:["ë³´ìœ ê³µì œ ",(s.holdingDeduction*100).toFixed(0),"% + ê±°ì£¼ê³µì œ ",(s.residenceDeduction*100).toFixed(0),"%"]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ê³¼ì„¸í‘œì¤€"}),e.jsxs("span",{children:[x(s.taxableGain),"ì›"]})]}),e.jsx("div",{className:"h-px bg-slate-100 my-2"}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ì–‘ë„ì†Œë“ì„¸"}),e.jsxs("span",{children:[x(s.tax),"ì›"]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-800",children:[e.jsx("span",{children:"ì§€ë°©ì†Œë“ì„¸ (10%)"}),e.jsxs("span",{children:[x(s.localTax),"ì›"]})]})]}),e.jsx("p",{className:"text-xs text-center text-rose-300 mt-4",children:"* ì‹¤ì œ ì„¸ì•¡ì€ ë‹¤ì–‘í•œ ìš”ì¸ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•˜ì„¸ìš”."})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"ì·¨ë“ê°€ì™€ ì–‘ë„ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"})]})};export{X as CapitalGainsTaxTab,X as default};
