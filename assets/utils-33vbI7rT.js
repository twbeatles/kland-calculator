import{r as O}from"./vendor-react-1xv4tCkN.js";const w="modulepreload",L=function(e,t){return new URL(e,t).href},A={},H=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let s=function(a){return Promise.all(a.map(d=>Promise.resolve(d).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const c=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),E=l?.nonce||l?.getAttribute("nonce");o=s(r.map(a=>{if(a=L(a,n),a in A)return;A[a]=!0;const d=a.endsWith(".css"),S=d?'[rel="stylesheet"]':"";if(!!n)for(let h=c.length-1;h>=0;h--){const p=c[h];if(p.href===a&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${S}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":w,d||(f.as="script"),f.crossOrigin="",f.href=a,E&&f.setAttribute("nonce",E),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function u(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return o.then(s=>{for(const c of s||[])c.status==="rejected"&&u(c.reason);return t().catch(u)})},g={},R=(e,t="")=>{if(g[e]!==void 0)return g[e];try{const r=localStorage.getItem(e),n=r===null||r===""?t:r;return g[e]=n,n}catch(r){return console.warn("localStorage access failed:",r),t}},T=()=>{try{let e=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(e+=(localStorage[r].length+r.length)*2);const t=5*1024*1024;e>t*.85&&I()}catch{}},I=()=>{try{const e=JSON.parse(localStorage.getItem("calcHistory")||"[]"),t=Math.floor(v/2);e.length>t&&localStorage.setItem("calcHistory",JSON.stringify(e.slice(0,t)));const r=JSON.parse(localStorage.getItem("errorLog")||"[]");r.length>5&&localStorage.setItem("errorLog",JSON.stringify(r.slice(0,5))),delete g.calcHistory,delete g.errorLog}catch{}},N=(e,t)=>{try{if(t===null){localStorage.removeItem(e),delete g[e];return}T();const r=typeof t=="string"?t:JSON.stringify(t);localStorage.setItem(e,r),g[e]=r}catch(r){if(r.name==="QuotaExceededError"){I();try{const n=typeof t=="string"?t:JSON.stringify(t);localStorage.setItem(e,n),g[e]=n}catch(n){console.warn("localStorage write failed after cleanup:",n)}}else console.warn("localStorage write failed:",r)}},_=(()=>{const e={};return(t,r,n=500)=>{clearTimeout(e[t]),e[t]=setTimeout(()=>N(t,r),n)}})(),y="calcHistory",v=50,J=(e,t)=>{try{const r=R(y,"[]"),n=JSON.parse(r)||[],u=[{id:Date.now(),type:e,data:t,timestamp:new Date().toISOString(),date:new Date().toLocaleDateString("ko-KR")},...n].slice(0,v);N(y,JSON.stringify(u))}catch(r){console.warn("히스토리 저장 실패:",r)}},K=()=>{try{const e=R(y,"[]");return JSON.parse(e)||[]}catch{return[]}},U=()=>{N(y,"[]")},B=2.5,V="2026.01.01",M=/\B(?=(\d{3})+(?!\d))/g,C=[{value:1e8,unit:"억"},{value:1e7,unit:"천만"},{value:1e4,unit:"만"},{value:1e3,unit:"천"}],$={HUG_PREFERRED:.00128,SGI:.00178,RENTAL_REGISTRATION:5e-4,DEFAULT:.00128},Y={RESIDENTIAL_LEASE:[{max:5e7,rate:.5,limit:2e5},{max:1e8,rate:.4,limit:3e5},{max:6e8,rate:.3,limit:null},{max:15e8,rate:.4,limit:null},{max:1/0,rate:.6,limit:null}],RESIDENTIAL_SALE:[{max:5e7,rate:.6,limit:25e4},{max:2e8,rate:.5,limit:8e5},{max:9e8,rate:.4,limit:null},{max:1/0,rate:.5,limit:null}],OFFICETEL_LEASE:.4,OFFICETEL_SALE:.5,COMMERCIAL:.9},G=["1","2","3"],x=e=>!e&&e!==0?"":Math.round(e).toString().replace(M,","),m=new Map,F=200,j=e=>{if(!e&&e!==0)return"";const t=parseFloat(e)||0;if(t===0)return"0원";const r=Math.round(t);if(m.has(r)){const l=m.get(r);return m.delete(r),m.set(r,l),l}const n=t<0,o=Math.round(Math.abs(t));let u="",s=o;for(const{value:l,unit:E}of C)if(s>=l){const a=Math.floor(s/l);u+=a+E+" ",s=s%l}s>0&&o<1e4&&(u+=s);const c=(n?"-":"")+u.trim()+"원";if(m.size>=F){const l=m.keys().next().value;m.delete(l)}return m.set(r,c),c},q=e=>{if(!e&&e!==0)return"";const t=Math.abs(parseFloat(e)||0),r=parseFloat(e)<0?"-":"";return t>=1e16?r+(t/1e16).toFixed(1)+"경":t>=1e12?r+(t/1e12).toFixed(1)+"조":t>=1e8?r+(t/1e8).toFixed(1)+"억":t>=1e4?r+(t/1e4).toFixed(1)+"만":r+x(t)},X=e=>{const t=new Date(e),r=t.getMonth()+1,n=t.getDate(),o=t.getHours(),u=t.getMinutes().toString().padStart(2,"0");return`${r}/${n} ${o}:${u}`},i=e=>{if(typeof e=="number")return e;if(!e)return 0;const t=e.toString().replace(/,/g,""),r=parseFloat(t);return isNaN(r)?0:r},b=(e,t,r=0)=>{if(!t||t===0)return r;const n=e/t;return isFinite(n)?n:r},z=(e,t)=>{const r=new URL(window.location.href.split("?")[0]);return r.searchParams.set("calc",e),Object.entries(t).forEach(([n,o])=>{o&&r.searchParams.set(n,o)}),r.toString()},W=async(e,t)=>{try{return await navigator.clipboard.writeText(e),t&&t("클립보드에 복사되었습니다!"),!0}catch(r){return console.error("Failed to copy:",r),!1}},Q={positive:e=>i(e)>=0,required:e=>e!==""&&e!==null&&e!==void 0,maxValue:e=>t=>i(t)<=e,minValue:e=>t=>i(t)>=e,range:(e,t)=>r=>{const n=i(r);return n>=e&&n<=t},percentage:e=>{const t=i(e);return t>=0&&t<=100},interestRate:e=>{const t=i(e);return t>=0&&t<=50},loanPeriod:e=>{const t=i(e);return t>=1&&t<=600},loanPeriodYears:e=>{const t=i(e);return t>=1&&t<=50},priceKorean:e=>{const t=i(e);return t>=0&&t<=1e14},dsrRatio:e=>{const t=i(e);return t>=0&&t<=100},ltvRatio:e=>{const t=i(e);return t>=0&&t<=100},holdingYears:e=>{const t=i(e);return t>=0&&t<=100}},Z=(e,t)=>{for(const{rule:r,message:n}of t)if(!r(e))return{valid:!1,message:n};return{valid:!0,message:""}},k=(e,t)=>{const[r,n]=O.useState(()=>{const o=R(e,"");if(o==="")return t;try{return JSON.parse(o)}catch{return o}});return O.useEffect(()=>{_(e,typeof r=="string"?r:JSON.stringify(r))},[e,r]),[r,n]},tt=(e,t)=>!t||t<=0?0:Math.floor(b(e*(t/100),12,0)),et=(e,t)=>t<=0?0:Math.floor(e*12/(t/100));export{V as B,$ as I,G as O,Q as V,H as _,b as a,x as b,q as c,N as d,_ as e,j as f,R as g,B as h,Y as i,tt as j,et as k,W as l,z as m,K as n,X as o,i as p,U as q,J as s,k as u,Z as v};
