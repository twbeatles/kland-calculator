import{r as i,p as v,j as e,T as P,c as d}from"./index-BXJM8vXQ.js";import{N as w}from"./Inputs-BIC4jCem.js";const L=()=>{const[u,T]=i.useState(""),[h,y]=i.useState(""),[p,M]=i.useState(""),[b,S]=i.useState("3"),[f,R]=i.useState("2"),[x,C]=i.useState(!1),[o,H]=i.useState(!1),s=i.useMemo(()=>{const a=v(u),j=v(h),I=v(p),c=parseInt(b)||0,E=parseInt(f)||0;if(!a||!j)return null;const r=j-a-I;if(r<=0)return{gain:0,tax:0,localTax:0,total:0,deduction:0,taxableGain:0,rate:0,isExempt:!1,holdingDeduction:0,residenceDeduction:0};if(x&&c>=2&&j<=12e8)return{gain:r,tax:0,localTax:0,total:0,deduction:r,taxableGain:0,rate:0,isExempt:!0,holdingDeduction:0,residenceDeduction:0};let m=0,g=0,N=0;x&&c>=3?(g=Math.min((c-2)*.04,.4),N=E>=2?Math.min((E-1)*.04,.4):0,m=g+N):c>=3&&(m=Math.min(.06+(c-3)*.02,.3));const k=Math.floor(r*m),t=Math.max(r-k-25e5,0);let l=0,n=0;t<=14e6?(l=t*.06,n=6):t<=5e7?(l=84e4+(t-14e6)*.15,n=15):t<=88e6?(l=624e4+(t-5e7)*.24,n=24):t<=15e7?(l=1536e4+(t-88e6)*.35,n=35):t<=3e8?(l=3706e4+(t-15e7)*.38,n=38):t<=5e8?(l=9406e4+(t-3e8)*.4,n=40):t<=1e9?(l=17406e4+(t-5e8)*.42,n=42):(l=38406e4+(t-1e9)*.45,n=45),o&&c<1?(l=t*.7,n=70):o&&c<2&&(l=t*.6,n=60),l=Math.floor(l);const D=Math.floor(l*.1),O=l+D;return{gain:r,deduction:k,taxableGain:t,tax:l,localTax:D,total:O,rate:n,isExempt:!1,holdingDeduction:g,residenceDeduction:N,deductionRate:m}},[u,h,p,b,f,x,o]);return e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(P,{className:"w-5 h-5 mr-3 text-rose-600"})," ì–‘ë„ì†Œë“ì„¸ ê³„ì‚°ê¸°"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(w,{label:"ì·¨ë“ê°€ì•¡ (ë§¤ì…ê°€)",value:u,onChange:T,color:"blue"}),e.jsx(w,{label:"ì–‘ë„ê°€ì•¡ (ë§¤ë„ê°€)",value:h,onChange:y,color:"blue"}),e.jsx(w,{label:"í•„ìš”ê²½ë¹„ (ì·¨ë“ì„¸, ì¤‘ê°œë³´ìˆ˜ ë“±)",value:p,onChange:M,color:"blue"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"ë³´ìœ  ê¸°ê°„ (ë…„)"}),e.jsx("div",{className:"flex gap-2",children:["1","2","3","5","10"].map(a=>e.jsxs("button",{onClick:()=>S(a),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${b===a?"bg-rose-500 text-white":"bg-slate-100 text-slate-500"}`,children:[a,"ë…„"]},a))})]}),x&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"ê±°ì£¼ ê¸°ê°„ (ë…„)"}),e.jsx("div",{className:"flex gap-2",children:["1","2","3","5","10"].map(a=>e.jsxs("button",{onClick:()=>R(a),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${f===a?"bg-emerald-500 text-white":"bg-slate-100 text-slate-500"}`,children:[a,"ë…„"]},a))}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 ml-1",children:"* ê±°ì£¼ê¸°ê°„ ê³µì œëŠ” 2ë…„ ì´ìƒë¶€í„° ì ìš©ë©ë‹ˆë‹¤"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:a=>C(a.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"1ì„¸ëŒ€ 1ì£¼íƒ"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:a=>H(a.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"ì¡°ì •ëŒ€ìƒì§€ì—­"})]})]})]})]}),s?e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 p-6 rounded-[2.5rem] border border-rose-100 shadow-lg relative",children:[s.isExempt&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-1.5 rounded-full text-xs font-bold shadow-lg",children:"ğŸ‰ ë¹„ê³¼ì„¸ ì ìš©"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm font-bold text-rose-400 uppercase tracking-widest mb-2",children:"ì˜ˆìƒ ë‚©ë¶€ ì„¸ì•¡"}),e.jsxs("p",{className:`text-4xl font-black ${s.isExempt?"text-green-600":"text-rose-900"}`,children:[d(s.total),"ì›"]}),s.isExempt?e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"1ì„¸ëŒ€1ì£¼íƒ ë¹„ê³¼ì„¸ ìš”ê±´ ì¶©ì¡± (12ì–µ ì´í•˜ + 2ë…„ ë³´ìœ )"}):s.total>0&&e.jsxs("p",{className:"text-xs text-rose-500 mt-1",children:["ì ìš©ì„¸ìœ¨ ",s.rate,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 space-y-3 shadow-sm ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ì–‘ë„ì°¨ìµ"}),e.jsxs("span",{children:[d(s.gain),"ì›"]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsxs("span",{children:["ì¥ê¸°ë³´ìœ íŠ¹ë³„ê³µì œ ",s.deductionRate?`(${(s.deductionRate*100).toFixed(0)}%)`:""]}),e.jsxs("span",{className:"text-green-600",children:["-",d(s.deduction),"ì›"]})]}),s.holdingDeduction>0&&s.residenceDeduction>0&&e.jsxs("div",{className:"text-xs text-slate-400 ml-2 -mt-1",children:["ë³´ìœ ê³µì œ ",(s.holdingDeduction*100).toFixed(0),"% + ê±°ì£¼ê³µì œ ",(s.residenceDeduction*100).toFixed(0),"%"]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ê³¼ì„¸í‘œì¤€"}),e.jsxs("span",{children:[d(s.taxableGain),"ì›"]})]}),e.jsx("div",{className:"h-px bg-slate-100 my-2"}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-600",children:[e.jsx("span",{children:"ì–‘ë„ì†Œë“ì„¸"}),e.jsxs("span",{children:[d(s.tax),"ì›"]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-800",children:[e.jsx("span",{children:"ì§€ë°©ì†Œë“ì„¸ (10%)"}),e.jsxs("span",{children:[d(s.localTax),"ì›"]})]})]}),e.jsx("p",{className:"text-xs text-center text-rose-300 mt-4",children:"* ì‹¤ì œ ì„¸ì•¡ì€ ë‹¤ì–‘í•œ ìš”ì¸ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•˜ì„¸ìš”."})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"ì·¨ë“ê°€ì™€ ì–‘ë„ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"})]})};export{L as CapitalGainsTaxTab,L as default};
