import{r as a,p as h,j as e,v as p,i as b}from"./index-B6wU84sq.js";import{C as f}from"./auto-CieodS8Z.js";import{N as g}from"./Inputs-DdefHrGL.js";const C=()=>{const[o,m]=a.useState(""),n=a.useRef(null),s=a.useRef(null),t=a.useMemo(()=>{const r=h(o);if(!r)return null;const i=Math.round(r*.01),c=Math.round(r*.004),d=Math.round(r*.002),l=Math.round(r*.001),u=3e3,x=i+c+d+l+u;return{acquisitionTax:i,brokerageFee:c,registrationFee:d,insuranceFee:l,movingCost:u,total:x}},[o]);return a.useEffect(()=>{if(!(!t||!n.current))return s.current&&s.current.destroy(),s.current=new f(n.current,{type:"doughnut",data:{labels:["취득세","중개보수","등록비","보험료","이사비"],datasets:[{data:[t.acquisitionTax,t.brokerageFee,t.registrationFee,t.insuranceFee,t.movingCost],backgroundColor:["#6366f1","#8b5cf6","#ec4899","#f97316","#14b8a6"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}),()=>{s.current&&s.current.destroy()}},[t]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(p,{className:"w-5 h-5 mr-3 text-indigo-600"})," 취득 비용 구성"]}),e.jsx(g,{label:"매매가",value:o,onChange:m,color:"indigo"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:e.jsx("div",{className:"h-64",children:e.jsx("canvas",{ref:n})})}),e.jsxs("div",{className:"bg-indigo-50 p-5 rounded-2xl border border-indigo-200 text-center",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-600 mb-1",children:"총 취득비용"}),e.jsx("p",{className:"text-2xl font-black text-indigo-800",children:b(t.total)})]})]})]})};export{C as CostCompositionChart,C as default};
