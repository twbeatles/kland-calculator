import{r as R}from"./vendor-react-1xv4tCkN.js";const w="modulepreload",L=function(e,t){return new URL(e,t).href},O={},P=function(t,r,o){let n=Promise.resolve();if(r&&r.length>0){let a=function(s){return Promise.all(s.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const c=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),d=i?.nonce||i?.getAttribute("nonce");n=a(r.map(s=>{if(s=L(s,o),s in O)return;O[s]=!0;const g=s.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(!!o)for(let h=c.length-1;h>=0;h--){const E=c[h];if(E.href===s&&(!g||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${m}`))return;const u=document.createElement("link");if(u.rel=g?"stylesheet":w,g||(u.as="script"),u.crossOrigin="",u.href=s,d&&u.setAttribute("nonce",d),document.head.appendChild(u),g)return new Promise((h,E)=>{u.addEventListener("load",h),u.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${s}`)))})}))}function l(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return n.then(a=>{for(const c of a||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},S={},y=(e,t="")=>{if(S[e]!==void 0)return S[e];try{const r=localStorage.getItem(e),o=r===null||r===""?t:r;return S[e]=o,o}catch(r){return console.warn("localStorage access failed:",r),t}},T=()=>{try{let e=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(e+=(localStorage[r].length+r.length)*2);const t=5*1024*1024;e>t*.85&&A()}catch{}},A=()=>{try{const e=JSON.parse(localStorage.getItem("calcHistory")||"[]"),t=Math.floor(I/2);e.length>t&&localStorage.setItem("calcHistory",JSON.stringify(e.slice(0,t)));const r=JSON.parse(localStorage.getItem("errorLog")||"[]");r.length>5&&localStorage.setItem("errorLog",JSON.stringify(r.slice(0,5))),delete S.calcHistory,delete S.errorLog}catch{}},N=(e,t)=>{try{if(t===null){localStorage.removeItem(e),delete S[e];return}T();const r=typeof t=="string"?t:JSON.stringify(t);localStorage.setItem(e,r),S[e]=r}catch(r){if(r.name==="QuotaExceededError"){A();try{const o=typeof t=="string"?t:JSON.stringify(t);localStorage.setItem(e,o),S[e]=o}catch(o){console.warn("localStorage write failed after cleanup:",o)}}else console.warn("localStorage write failed:",r)}},_=(()=>{const e={};return(t,r,o=500)=>{clearTimeout(e[t]),e[t]=setTimeout(()=>N(t,r),o)}})(),p="calcHistory",I=50,H=(e,t)=>{try{const r=y(p,"[]"),o=JSON.parse(r)||[],l=[{id:Date.now(),type:e,data:t,timestamp:new Date().toISOString(),date:new Date().toLocaleDateString("ko-KR")},...o].slice(0,I);N(p,JSON.stringify(l))}catch(r){console.warn("히스토리 저장 실패:",r)}},J=()=>{try{const e=y(p,"[]");return JSON.parse(e)||[]}catch{return[]}},K=()=>{N(p,"[]")},U=2.5,B="2026.01.01",v=/\B(?=(\d{3})+(?!\d))/g,M=[{value:1e8,unit:"억"},{value:1e7,unit:"천만"},{value:1e4,unit:"만"},{value:1e3,unit:"천"}],$={HUG_PREFERRED:.00128,SGI:.00178,RENTAL_REGISTRATION:5e-4,DEFAULT:.00128},G={RESIDENTIAL_LEASE:[{max:5e7,rate:.5,limit:2e5},{max:1e8,rate:.4,limit:3e5},{max:6e8,rate:.3,limit:null},{max:15e8,rate:.4,limit:null},{max:1/0,rate:.6,limit:null}],RESIDENTIAL_SALE:[{max:5e7,rate:.6,limit:25e4},{max:2e8,rate:.5,limit:8e5},{max:9e8,rate:.4,limit:null},{max:1/0,rate:.5,limit:null}],OFFICETEL_LEASE:.4,OFFICETEL_SALE:.5,COMMERCIAL:.9},j=["1","2","3"],C=e=>!e&&e!==0?"":Math.round(e).toString().replace(v,","),f=new Map,x=200,Y=e=>{if(!e&&e!==0)return"";const t=parseFloat(e)||0;if(t===0)return"0원";const r=Math.round(t);if(f.has(r)){const i=f.get(r);return f.delete(r),f.set(r,i),i}const o=t<0,n=Math.round(Math.abs(t));let l="",a=n;for(const{value:i,unit:d}of M)if(a>=i){const s=Math.floor(a/i);l+=s+d+" ",a=a%i}a>0&&n<1e4&&(l+=a);const c=(o?"-":"")+l.trim()+"원";if(f.size>=x){const i=f.keys().next().value;f.delete(i)}return f.set(r,c),c},q=e=>{if(!e&&e!==0)return"";const t=Math.abs(parseFloat(e)||0),r=parseFloat(e)<0?"-":"";return t>=1e16?r+(t/1e16).toFixed(1)+"경":t>=1e12?r+(t/1e12).toFixed(1)+"조":t>=1e8?r+(t/1e8).toFixed(1)+"억":t>=1e4?r+(t/1e4).toFixed(1)+"만":r+C(t)},V=e=>{const t=new Date(e),r=t.getMonth()+1,o=t.getDate(),n=t.getHours(),l=t.getMinutes().toString().padStart(2,"0");return`${r}/${o} ${n}:${l}`},X=e=>{if(typeof e=="number")return e;if(!e)return 0;const t=e.toString().replace(/,/g,""),r=parseFloat(t);return isNaN(r)?0:r},F=(e,t,r=0)=>{if(!t||t===0)return r;const o=e/t;return isFinite(o)?o:r},z=(e,t)=>{const r=new URL(window.location.href.split("?")[0]);return r.searchParams.set("calc",e),Object.entries(t).forEach(([o,n])=>{n&&r.searchParams.set(o,n)}),r.toString()},Q=async(e,t)=>{try{return await navigator.clipboard.writeText(e),t&&t("클립보드에 복사되었습니다!"),!0}catch(r){return console.error("Failed to copy:",r),!1}},W=(e,t)=>{const[r,o]=R.useState(()=>{const n=y(e,"");if(n==="")return t;try{return JSON.parse(n)}catch{return n}});return R.useEffect(()=>{_(e,typeof r=="string"?r:JSON.stringify(r))},[e,r]),[r,o]},Z=(e,t)=>!t||t<=0?0:Math.floor(F(e*(t/100),12,0)),k=(e,t)=>t<=0?0:Math.floor(e*12/(t/100));export{B,$ as I,j as O,P as _,F as a,C as b,q as c,N as d,_ as e,Y as f,y as g,U as h,G as i,Z as j,k,Q as l,z as m,J as n,V as o,X as p,K as q,H as s,W as u};
