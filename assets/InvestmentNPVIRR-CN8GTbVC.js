import{p as g,j as e,o as S,g as w}from"./index-Bqg2AC8n.js";import{r as n}from"./vendor-icons-BFBm8Ebl.js";import{N}from"./Inputs-Dtn60izF.js";import"./vendor-react-CRB3T2We.js";import"./storage-DAFidnzi.js";const q=()=>{const[u,R]=n.useState(""),[p,P]=n.useState(""),[h,I]=n.useState("5"),[b,y]=n.useState(""),[d,V]=n.useState("5"),s=n.useMemo(()=>{const a=g(u),o=g(p),l=parseInt(h)||5,r=g(b),j=parseFloat(d)/100||.05;if(!a||!o)return null;let c=-a;for(let t=1;t<=l;t++)c+=o/Math.pow(1+j,t);r>0&&(c+=r/Math.pow(1+j,l));const C=(()=>{let t=.1;const k=100,F=1e-4;for(let v=0;v<k;v++){let x=-a,m=0;for(let i=1;i<=l;i++)x+=o/Math.pow(1+t,i),m-=i*o/Math.pow(1+t,i+1);if(r>0&&(x+=r/Math.pow(1+t,l),m-=l*r/Math.pow(1+t,l+1)),Math.abs(x)<F||m===0)break;t=t-x/m,t<-.99&&(t=-.99),t>10&&(t=10)}return t*100})(),f=o*l+r-a,M=a>0?f/a*100:0;return{npv:Math.round(c),irr:C.toFixed(2),totalReturn:Math.round(f),roi:M.toFixed(1),isPositiveNPV:c>0,years:l}},[u,p,h,b,d]);return e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-3 text-indigo-600"})," NPV/IRR íˆ¬ìë¶„ì„"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(N,{label:"ì´ˆê¸° íˆ¬ìê¸ˆ",value:u,onChange:R,color:"blue"}),e.jsx(N,{label:"ì—°ê°„ í˜„ê¸ˆíë¦„ (ì„ëŒ€ìˆ˜ìµ)",value:p,onChange:P,color:"green"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"ë³´ìœ ê¸°ê°„ (ë…„)"}),e.jsx("input",{type:"number",value:h,onChange:a=>I(a.target.value),className:"w-full px-4 py-3 text-right bg-slate-50 rounded-2xl font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"í• ì¸ìœ¨ (%)"}),e.jsx("input",{type:"number",value:d,onChange:a=>V(a.target.value),className:"w-full px-4 py-3 text-right bg-slate-50 rounded-2xl font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsx(N,{label:"ë§¤ë„ ì˜ˆìƒê°€ (Exit Value)",value:b,onChange:y,color:"purple"})]})]}),s?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-6 rounded-[2rem] shadow-lg ${s.isPositiveNPV?"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100":"bg-gradient-to-br from-red-50 to-orange-50 border border-red-100"}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-2xl",children:[e.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:"NPV (ìˆœí˜„ì¬ê°€ì¹˜)"}),e.jsx("p",{className:`text-2xl font-black ${s.isPositiveNPV?"text-indigo-700":"text-red-600"}`,children:w(s.npv)}),e.jsx("p",{className:`text-xs mt-1 ${s.isPositiveNPV?"text-emerald-600":"text-red-500"}`,children:s.isPositiveNPV?"âœ“ íˆ¬ì ê¶Œì¥":"âœ— íˆ¬ì ë¹„ê¶Œì¥"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-2xl",children:[e.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:"IRR (ë‚´ë¶€ìˆ˜ìµë¥ )"}),e.jsxs("p",{className:"text-2xl font-black text-purple-700",children:[s.irr,"%"]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"ì—°í™˜ì‚° ìˆ˜ìµë¥ "})]})]})}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-500",children:[s.years,"ë…„ ì´ ìˆ˜ìµ"]}),e.jsxs("span",{className:`font-bold ${s.totalReturn>=0?"text-emerald-600":"text-red-600"}`,children:[s.totalReturn>=0?"+":"",w(s.totalReturn)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"ì´ ROI"}),e.jsxs("span",{className:"font-bold text-indigo-600",children:[s.roi,"%"]})]}),e.jsx("div",{className:"h-px bg-slate-200"}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl text-xs text-slate-500",children:["ğŸ’¡ ",e.jsx("strong",{children:"NPV ì–‘ìˆ˜"})," = í• ì¸ìœ¨(",d,"%)ë³´ë‹¤ ë†’ì€ ìˆ˜ìµë¥  ê¸°ëŒ€",e.jsx("br",{}),"ğŸ’¡ ",e.jsx("strong",{children:"IRR"})," = íˆ¬ìê¸ˆì˜ ì‹¤ì œ ì—°í‰ê·  ìˆ˜ìµë¥ "]})]})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"ì´ˆê¸° íˆ¬ìê¸ˆê³¼ í˜„ê¸ˆíë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"})]})};export{q as InvestmentNPVIRR,q as default};
