import{r as a,g as x,d as b,p as u,j as e,s as C,e as f,c as S,C as k,A as j,I as D}from"./index-BXJM8vXQ.js";import{N as h}from"./Inputs-BIC4jCem.js";const E=()=>{const[l,g]=a.useState(()=>x("sPrice")),[r,N]=a.useState(()=>x("sBond")),[o,w]=a.useState(()=>x("sDeposit"));a.useEffect(()=>{b("sPrice",l),b("sBond",r),b("sDeposit",o)},[l,r,o]);const s=a.useMemo(()=>{const d=u(l)||0,v=u(r)||0,y=u(o)||0;if(d<=0)return null;const p=v+y,t=p/d*100;if(!isFinite(t)||isNaN(t))return null;let i="ì•ˆì „",n="bg-emerald-50 border-emerald-200 text-emerald-900",c="bg-emerald-500",m=e.jsx(k,{className:"w-8 h-8 text-emerald-500"});return t>100?(i="ğŸš¨ ë§¤ìš° ìœ„í—˜ (ì—­ì „ì„¸ ê²½ê³ )",n="bg-red-100 border-red-300 text-red-900",c="bg-red-600",m=e.jsx(j,{className:"w-8 h-8 text-red-600 animate-pulse"})):t>80?(i="ìœ„í—˜ (ê¹¡í†µì „ì„¸)",n="bg-red-50 border-red-200 text-red-900",c="bg-red-500",m=e.jsx(j,{className:"w-8 h-8 text-red-500"})):t>60&&(i="ì£¼ì˜ í•„ìš”",n="bg-orange-50 border-orange-200 text-orange-900",c="bg-orange-500",m=e.jsx(D,{className:"w-8 h-8 text-orange-500"})),{ratio:t,totalDebt:p,status:i,colorClass:n,barColor:c,icon:m}},[l,r,o]);return a.useEffect(()=>{if(result){const d=setTimeout(()=>{C("ì•ˆì „ì§„ë‹¨",{timestamp:Date.now()})},3e3);return()=>clearTimeout(d)}},[result]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 space-y-5",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(f,{className:"w-5 h-5 mr-3 text-emerald-600"}),"ì•ˆì „ ì§„ë‹¨ ë°ì´í„°"]}),e.jsx(h,{label:"ë§¤ë§¤ ì‹œì„¸ (KBì‹œì„¸/ì‹¤ê±°ë˜ê°€)",value:l,onChange:g,color:"green"}),e.jsx(h,{label:"ì„ ìˆœìœ„ ì±„ê¶Œ (ê·¼ì €ë‹¹ ë“±)",value:r,onChange:N,color:"green"}),e.jsx(h,{label:"ë‚˜ì˜ ë³´ì¦ê¸ˆ",value:o,onChange:w,color:"green"})]}),s?e.jsx("div",{className:`p-6 rounded-[2rem] border ${s.colorClass} transition-all duration-500 shadow-sm relative overflow-hidden`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm ring-1 ring-black/5",children:s.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-black",children:s.status}),e.jsxs("p",{className:"text-sm font-semibold opacity-70 mt-1",children:["ì „ì„¸ê°€ìœ¨ ",s.ratio.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"bg-white/60 rounded-2xl p-5 space-y-4 text-sm font-medium backdrop-blur-md border border-white/50",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600",children:"ë‚´ ë³´ì¦ê¸ˆ + ìœµì"}),e.jsxs("span",{className:"font-bold text-lg",children:[S(s.totalDebt),"ì›"]})]}),e.jsxs("div",{className:"w-full bg-slate-200/50 rounded-full h-4 overflow-hidden relative",children:[e.jsx("div",{className:"absolute left-[60%] top-0 bottom-0 w-0.5 bg-slate-300 z-10",title:"ì•ˆì „ì„  (60%)"}),e.jsx("div",{className:"absolute left-[80%] top-0 bottom-0 w-0.5 bg-slate-300 z-10",title:"ìœ„í—˜ì„  (80%)"}),e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-sm ${s.barColor}`,style:{width:`${Math.min(s.ratio,100)}%`}})]}),e.jsxs("div",{className:"flex justify-between text-[11px] font-bold text-slate-400 uppercase tracking-wide",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{className:"text-green-600",children:"60% Safe"}),e.jsx("span",{className:"text-red-500",children:"80% Risk"}),e.jsx("span",{children:"100%"})]})]})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-3xl border-2 border-dashed border-slate-200 text-slate-400",children:[e.jsx(f,{className:"w-16 h-16 mb-4 text-slate-200 stroke-1"}),e.jsx("p",{className:"text-sm font-bold",children:"ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ì•ˆì „ë„ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤"})]})]})};export{E as SafetyTab,E as default};
