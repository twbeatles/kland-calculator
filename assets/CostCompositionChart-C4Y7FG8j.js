import{p as x,j as e,o as h,g as b}from"./index-oQ2hgGDo.js";import{r as o}from"./vendor-icons-BFBm8Ebl.js";import"./auto-DGOjsrxg.js";import{N as f}from"./Inputs-DnhDv_Ml.js";import{C as g}from"./vendor-chart-DU5eDjOK.js";import"./vendor-react-CRB3T2We.js";import"./storage-DAFidnzi.js";const y=()=>{const[a,m]=o.useState(""),n=o.useRef(null),s=o.useRef(null),t=o.useMemo(()=>{const r=x(a);if(!r)return null;const i=Math.round(r*.01),c=Math.round(r*.004),d=Math.round(r*.002),l=Math.round(r*.001),u=3e3,p=i+c+d+l+u;return{acquisitionTax:i,brokerageFee:c,registrationFee:d,insuranceFee:l,movingCost:u,total:p}},[a]);return o.useEffect(()=>{if(!(!t||!n.current))return s.current&&s.current.destroy(),s.current=new g(n.current,{type:"doughnut",data:{labels:["취득세","중개보수","등록비","보험료","이사비"],datasets:[{data:[t.acquisitionTax,t.brokerageFee,t.registrationFee,t.insuranceFee,t.movingCost],backgroundColor:["#6366f1","#8b5cf6","#ec4899","#f97316","#14b8a6"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}),()=>{s.current&&s.current.destroy()}},[t]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-3 text-indigo-600"})," 취득 비용 구성"]}),e.jsx(f,{label:"매매가",value:a,onChange:m,color:"indigo"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:e.jsx("div",{className:"h-64",children:e.jsx("canvas",{ref:n})})}),e.jsxs("div",{className:"bg-indigo-50 p-5 rounded-2xl border border-indigo-200 text-center",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-600 mb-1",children:"총 취득비용"}),e.jsx("p",{className:"text-2xl font-black text-indigo-800",children:b(t.total)})]})]})]})};export{y as CostCompositionChart,y as default};
