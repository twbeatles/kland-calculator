import{r as a,p as f,s as M,j as e,n as S,i as b}from"./index-B6u5FO8e.js";import{N as j,T as C,b as I}from"./Inputs-Blh7JT5J.js";const E=()=>{const[o,N]=a.useState(""),[r,v]=a.useState(""),[i,w]=a.useState("4.5"),[c,y]=a.useState("30"),[d,L]=a.useState("non-adj"),[m,k]=a.useState(!1),s=a.useMemo(()=>{const t=f(o),h=f(r),n=parseFloat(i)/100/12,x=parseInt(c)*12;if(!t||!h)return null;const g=t*.4/12;let l=0;n>0?l=g*(Math.pow(1+n,x)-1)/(n*Math.pow(1+n,x)):l=g*x;let u=d==="adj"?.6:.7;m&&(u=.8);const p=h*u,T=Math.min(l,p),R=l<p?"DSR":"LTV";return{dsrLimit:Math.floor(l),ltvLimit:Math.floor(p),finalLimit:Math.floor(T),limitingFactor:R,ltvRate:u*100}},[o,r,i,c,d,m]);return a.useEffect(()=>{if(s){const t=setTimeout(()=>{M("주담대한도",{timestamp:Date.now()})},3e3);return()=>clearTimeout(t)}},[s]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-3 text-blue-600"})," 주담대 한도 계산기"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(j,{label:"연 소득",value:o,onChange:N,color:"blue"}),e.jsx(j,{label:"주택 시세 (매매가)",value:r,onChange:v,color:"blue"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"대출금리 (%)"}),e.jsx("input",{type:"number",value:i,onChange:t=>w(t.target.value),className:"w-full px-4 py-3 text-right bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"대출기간 (년)"}),e.jsxs("select",{value:c,onChange:t=>y(t.target.value),className:"w-full px-4 py-3 bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"20",children:"20년"}),e.jsx("option",{value:"30",children:"30년"}),e.jsx("option",{value:"40",children:"40년"})]})]})]}),e.jsx(C,{options:I,value:d==="non-adj"?"비규제":"규제(조정)",onChange:t=>L(t==="비규제"?"non-adj":"adj"),color:"blue"}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-xl cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:t=>k(t.target.checked),className:"w-5 h-5 rounded accent-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"생애최초 주택구입 (LTV 80%)"})]})]})]}),s?e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-sky-50 p-6 rounded-[2.5rem] border border-blue-100 shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm font-bold text-blue-400 uppercase tracking-widest mb-2",children:"예상 대출 한도"}),e.jsx("p",{className:"text-4xl font-black text-blue-900",children:b(s.finalLimit)}),e.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:[s.limitingFactor," 기준 적용"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl text-center",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-1",children:"DSR 40% 한도"}),e.jsx("p",{className:"text-lg font-black text-slate-700",children:b(s.dsrLimit)})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl text-center",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-1",children:["LTV ",s.ltvRate,"% 한도"]}),e.jsx("p",{className:"text-lg font-black text-slate-700",children:b(s.ltvLimit)})]})]})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"연소득과 주택 시세를 입력해주세요"})]})};export{E as MortgageLimitTab,E as default};
