import{r as x,p,s as v,j as e,D as N,c as u,L as y,K as w,o as M}from"./index-BXJM8vXQ.js";import{N as P,T as k,d as I}from"./Inputs-BIC4jCem.js";const L=()=>{const[l,h]=x.useState(""),[i,b]=x.useState("4.0"),[c,f]=x.useState("24"),[a,j]=x.useState("만기일시"),s=x.useMemo(()=>{const t=p(l),n=parseFloat(i)/100/12,o=parseInt(c);if(!t||!o)return null;let r=0,d=0,m="";if(n===0||!isFinite(n))r=t/o,d=0,m="무이자 상환 (원금만)";else if(a==="만기일시")r=t*n,d=r*o,m="매달 이자만, 원금은 만기에";else if(a==="원리금균등")r=t*n*Math.pow(1+n,o)/(Math.pow(1+n,o)-1),d=r*o-t,m="원금+이자를 매달 똑같이";else if(a==="원금균등"){const g=t*n;r=t/o+g,d=t*n*(o+1)/2,m="첫 달이 가장 비싸고 감소"}return{monthlyPayment:r,totalInterest:d,totalPayment:t+d,desc:m}},[l,i,c,a]);return x.useEffect(()=>{if(s&&p(l)>0){const t=setTimeout(()=>{v("대출계산",{loanAmount:p(l),rate:parseFloat(i),period:parseInt(c),method:a,monthlyPayment:s.monthlyPayment,totalInterest:s.totalInterest})},3e3);return()=>clearTimeout(t)}},[s,l,i,c,a]),e.jsxs("div",{className:"space-y-6 pb-32 animate-slide-up px-1",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-3 text-violet-600"})," 대출 조건"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(P,{label:"대출 금액",value:l,onChange:h,color:"violet"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"연 이자율 (%)"}),e.jsx("input",{type:"number",value:i,onChange:t=>b(t.target.value),className:"w-full px-4 py-4 border-0 bg-slate-50 rounded-2xl text-right outline-none focus:ring-2 focus:ring-violet-500 focus:bg-white font-bold text-slate-700 transition-all"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"기간 (개월)"}),e.jsx("input",{type:"number",value:c,onChange:t=>f(t.target.value),className:"w-full px-4 py-4 border-0 bg-slate-50 rounded-2xl text-right outline-none focus:ring-2 focus:ring-violet-500 focus:bg-white font-bold text-slate-700 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2 ml-1",children:"상환 방식"}),e.jsx(k,{options:I,value:a,onChange:j,color:"violet"})]})]})]}),s?e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[2.5rem] border border-violet-100 shadow-lg shadow-violet-100/50 relative",children:[e.jsx("div",{className:"absolute top-5 right-5 bg-white/60 backdrop-blur-sm px-3 py-1.5 rounded-full ring-1 ring-violet-200",children:e.jsx("span",{className:"text-violet-700 text-xs font-bold",children:s.desc})}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-5 rounded-2xl shadow-sm ring-1 ring-black/5",children:[e.jsx("span",{className:"text-slate-500 font-bold text-sm uppercase tracking-wide",children:a==="원금균등"?"첫 달 납입금":"월 예상 납입금"}),e.jsxs("span",{className:"text-2xl font-black text-violet-600",children:[u(Math.round(s.monthlyPayment)),"원"]})]}),e.jsxs("div",{className:"px-4 py-2 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-600 font-medium",children:[e.jsx("span",{children:"총 이자 비용"}),e.jsxs("span",{children:[u(Math.round(s.totalInterest)),"원"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-slate-600 font-medium",children:[e.jsx("span",{children:"총 상환 금액"}),e.jsxs("span",{className:"font-bold text-slate-800",children:[u(Math.round(s.totalPayment)),"원"]})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(y,{principal:p(l),interest:Math.round(s.totalInterest),title:"원금 vs 총 이자"})}),e.jsxs("div",{className:"mt-4 flex gap-2 justify-center",children:[e.jsx(w,{title:`대출 계산 결과 - ${a}`,description:`월 납입금: ${u(Math.round(s.monthlyPayment))}원 / 총 이자: ${u(Math.round(s.totalInterest))}원`}),e.jsx(M,{calcType:"대출계산",params:{loanAmount:l,rate:i,period:c,method:a},showToast:null})]})]}):e.jsx("div",{className:"text-center py-20 text-slate-300 bg-white rounded-[2rem] border-2 border-dashed border-slate-200",children:"대출 조건을 입력해주세요"})]})};export{L as LoanTab,L as default};
